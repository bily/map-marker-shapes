"use strict";(function(e,t,n){typeof define=="function"?(console.log("using define(def)"),define(t)):typeof module!="undefined"&&module.exports?(console.log("using module.exports"),module.exports=t()):n[e]=t()})("MapMarkerShapes",function(){var e;return e=function(){},e.prototype.DEFAULTS={TEXT:{COLOR:"black",FONT_STYLE:"bold",SIZE:"20pts",FONT_FAMILY:"Calibri",BASELINE:"middle",ALIGN:"center"}},e.prototype._getNewMarkerType=function(){return{dataType:"",data:""}},e.prototype._initializeCanvas=function(e){var t=document.createElement("CANVAS"),n=e.shapeParameters.radius,r=e.shapeParameters.stroke?e.shapeParameters.stroke.width||0:null;return t.setAttribute("width",n*2+r),t.setAttribute("height",n*2+r),t},e.prototype._drawShape=function(e,t,n){if(n.shape.toLowerCase()=="circle")return this._drawCircle(e,t,n)},e.prototype._drawCircle=function(e,t,n){var r=e.width/2,i=e.height/2,s=n.shapeParameters.radius;t.beginPath(),t.arc(r,i,s,0,2*Math.PI,!1);var o=n.shapeParameters.fillColor||"";return t.fillStyle=o,t.fill(),n.shapeParameters.stroke&&(t.lineWidth=n.shapeParameters.stroke.width||null,t.strokeStyle=n.shapeParameters.stroke.color||null,t.stroke()),t.closePath(),t},e.prototype._drawText=function(e,t,n){var r=e.width/2,i=e.height/2;n.textParameters?(t.fillStyle=n.textParameters.textColor||this.DEFAULTS.TEXT.COLOR,t.font=(n.textParameters.fontStyle||this.DEFAULTS.TEXT.FONT_STYLE)+" "+(n.textParameters.textSize||this.DEFAULTS.TEXT.SIZE)+" "+(n.textParameters.fontFamily||this.DEFAULTS.TEXT.FONT_FAMILY)):(t.fillStyle=this.DEFAULTS.TEXT.COLOR,t.font=this.DEFAULTS.TEXT.FONT_STYLE+" "+this.DEFAULTS.TEXT.SIZE+" "+this.DEFAULTS.TEXT.FONT_FAMILY),t.textBaseLine=this.DEFAULTS.TEXT.BASELINE,t.textAlign=this.DEFAULTS.TEXT.ALIGN;var s=n.textParameters?n.textParameters.textSize||this.DEFAULTS.TEXT.SIZE:this.DEFAULTS.TEXT.SIZE;return t.fillText(n.markerText,r,i+parseInt(s)/2),t},e.prototype._drawMarker=function(e,t){var n=e.getContext("2d");return n=this._drawShape(e,n,t),n=t.markerText?this._drawText(e,n,t):n,e},e.prototype.getMarker=function(e){var t=this._getNewMarkerType(),n=this._initializeCanvas(e);return n=this._drawMarker(n,e),t.data=n.toDataURL(),t.dataType="image/png",t},new e},this);